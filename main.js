(()=>{"use strict";const e="558e6998c7d958821a0225b854f5e43b";function t(e,t){return new Date(e+1e3*(t+14400))}function n(e){return e.toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric"})}(class{static async loadPage(o,a=""){const i=await async function(o,a=""){try{const a=await async function(t,n=""){try{const o=await fetch(`http://api.openweathermap.org/geo/1.0/direct?q=${t},${n}&limit=1&appid=${e}`),a=await o.json();return{longitude:a[0].lon,latitude:a[0].lat,name:a[0].name}}catch(e){return}}(o,""),i=a.longitude,r=a.latitude,c=a.name,s=await async function(t,n){const o=await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${n}&lon=${t}&appid=${e}`);return await o.json()}(i,r),u=await async function(t,n){const o=await fetch(`https://api.openweathermap.org/data/2.5/forecast?lat=${n}&lon=${t}&appid=${e}`,{mode:"cors"});return await o.json()}(i,r);console.log(s);const l=await async function(e,o){const a=t((new Date).getTime(),e.timezone);return{city:o,country:new Intl.DisplayNames(["en"],{type:"region"}).of(e.sys.country),weatherDesc:e.weather[0].description,currDate:a.toDateString(),currTime:n(a),currTemp:(e.main.temp-273.15).toFixed(1),wind:(3.6*e.wind.speed).toFixed(1),feels_like:(e.main.feels_like-273.15).toFixed(1),sunrise:n(t(1e3*e.sys.sunrise,e.timezone)),sunset:n(t(1e3*e.sys.sunset,e.timezone)),icon:`./imgs/weather-icons/${e.weather[0].icon}.svg`}}(s,c),d=await async function(e){return{dayOne:e.slice(0,8),dayTwo:e.slice(8,16),dayThree:e.slice(16,24),dayFour:e.slice(24,32),dayFive:e.slice(32,40)}}(u.list);return console.log(l),console.log(d),{todayMain:l,fiveDay:d}}catch(e){console.log('Location not found.\nSearch must be in the form: "City", "City, State", or "City, Country"')}}(o,a);this.loadMainInfo(i.todayMain)}static loadMainInfo(e){document.querySelector("#today-img").src=e.icon,document.querySelector("#location").textContent=`${e.city}, ${e.country}`,document.querySelector("#weather-type").textContent=e.weatherDesc,document.querySelector("#curr-date").textContent=e.currDate,document.querySelector("#curr-time").textContent=e.currTime,document.querySelector("#today-temp").textContent=e.currTemp+"°",document.querySelector("#wind-speed").textContent=e.wind+"km/h",document.querySelector("#feels-like").textContent=e.feels_like+"°",document.querySelector("#sunrise").textContent=e.sunrise,document.querySelector("#sunset").textContent=e.sunset}}).loadPage("Toronto")})();